{"ast":null,"code":"import{useState,useEffect}from'react';import{Link}from\"react-router-dom\";import{useUser}from'../../context/use-user';import{useBooks}from'../../context/use-books';import{LocalStorageService}from\"../../services/localStorage\";import styles from'./Navbar.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Navbar(){const[totalCount,setTotalCount]=useState(0);const{user,setUser}=useUser();const{addedBooks}=useBooks();const[isEnlarged,setIsEnlarged]=useState(false);const style={fontSize:isEnlarged?'16px':'',transition:'font-size 0.5s'};useEffect(()=>{setTotalCount(addedBooks.reduce((acc,curr)=>{return acc+curr.count;},0));setIsEnlarged(true);setTimeout(()=>{setIsEnlarged(false);},1000);},[addedBooks]);const clean=()=>{LocalStorageService.removeAll();setUser('');};return/*#__PURE__*/_jsx(\"nav\",{className:styles.navbar,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-end\",children:[/*#__PURE__*/_jsx(Link,{to:\"/bookList\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-book\"})}),/*#__PURE__*/_jsxs(Link,{className:styles.cart_icon,to:\"/cart\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-cart-shopping\"}),/*#__PURE__*/_jsx(\"span\",{style:style,className:styles.cart_counter,children:totalCount})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user-large\"}),/*#__PURE__*/_jsx(\"span\",{children:user})]}),/*#__PURE__*/_jsx(Link,{onClick:clean,to:\"/\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-person-walking-dashed-line-arrow-right\"})})]})});}","map":{"version":3,"names":["useState","useEffect","Link","useUser","useBooks","LocalStorageService","styles","jsx","_jsx","jsxs","_jsxs","Navbar","totalCount","setTotalCount","user","setUser","addedBooks","isEnlarged","setIsEnlarged","style","fontSize","transition","reduce","acc","curr","count","setTimeout","clean","removeAll","className","navbar","children","to","class","cart_icon","cart_counter","onClick"],"sources":["E:/Dragon/IT/ciklum/X-course-task/x-course-task/src/components/Navbar/Navbar.js"],"sourcesContent":["import {useState, useEffect} from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useUser } from '../../context/use-user';\r\nimport { useBooks } from '../../context/use-books';\r\nimport { LocalStorageService } from \"../../services/localStorage\";\r\nimport styles from './Navbar.module.scss';\r\n\r\nexport default function Navbar() {\r\n    const [ totalCount, setTotalCount ] = useState(0);\r\n    const { user, setUser } = useUser();\r\n    const { addedBooks } = useBooks();\r\n    const [isEnlarged, setIsEnlarged] = useState(false);\r\n    const style = {\r\n        fontSize: isEnlarged ? '16px' : '', \r\n        transition: 'font-size 0.5s', \r\n    };\r\n\r\n    useEffect(()=>{\r\n        setTotalCount(addedBooks.reduce((acc, curr) => {return acc + curr.count}, 0));\r\n        setIsEnlarged(true);\r\n        setTimeout(() => {\r\n            setIsEnlarged(false);\r\n        }, 1000);\r\n    }, [addedBooks])\r\n\r\n    const clean = () => {\r\n        LocalStorageService.removeAll();\r\n        setUser('');\r\n    };\r\n\r\n    return (\r\n        <nav className={styles.navbar}>\r\n            <div className='container d-flex justify-content-end'>\r\n                <Link to=\"/bookList\">\r\n                    <i class=\"fa-solid fa-book\"></i>\r\n                </Link>\r\n                <Link className={styles.cart_icon} to=\"/cart\">\r\n                    <i className=\"fa-solid fa-cart-shopping\"></i>\r\n                    <span style={style} className={styles.cart_counter} >{totalCount}</span>\r\n                </Link>\r\n                <p>\r\n                    <i className=\"fa-solid fa-user-large\"></i>\r\n                    <span>{user}</span>\r\n                </p>\r\n                <Link onClick={clean} to=\"/\">\r\n                    <i class=\"fa-solid fa-person-walking-dashed-line-arrow-right\"></i>\r\n                </Link>\r\n            </div>\r\n        </nav>\r\n    )\r\n}"],"mappings":"AAAA,OAAQA,QAAQ,CAAEC,SAAS,KAAO,OAAO,CACzC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,OAAO,KAAQ,wBAAwB,CAChD,OAASC,QAAQ,KAAQ,yBAAyB,CAClD,OAASC,mBAAmB,KAAQ,6BAA6B,CACjE,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC7B,KAAM,CAAEC,UAAU,CAAEC,aAAa,CAAE,CAAGb,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAAEc,IAAI,CAAEC,OAAQ,CAAC,CAAGZ,OAAO,CAAC,CAAC,CACnC,KAAM,CAAEa,UAAW,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CACjC,KAAM,CAACa,UAAU,CAAEC,aAAa,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAAmB,KAAK,CAAG,CACVC,QAAQ,CAAEH,UAAU,CAAG,MAAM,CAAG,EAAE,CAClCI,UAAU,CAAE,gBAChB,CAAC,CAEDpB,SAAS,CAAC,IAAI,CACVY,aAAa,CAACG,UAAU,CAACM,MAAM,CAAC,CAACC,GAAG,CAAEC,IAAI,GAAK,CAAC,MAAO,CAAAD,GAAG,CAAGC,IAAI,CAACC,KAAK,EAAC,CAAE,CAAC,CAAC,CAAC,CAC7EP,aAAa,CAAC,IAAI,CAAC,CACnBQ,UAAU,CAAC,IAAM,CACbR,aAAa,CAAC,KAAK,CAAC,CACxB,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC,CAAE,CAACF,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAW,KAAK,CAAGA,CAAA,GAAM,CAChBtB,mBAAmB,CAACuB,SAAS,CAAC,CAAC,CAC/Bb,OAAO,CAAC,EAAE,CAAC,CACf,CAAC,CAED,mBACIP,IAAA,QAAKqB,SAAS,CAAEvB,MAAM,CAACwB,MAAO,CAAAC,QAAA,cAC1BrB,KAAA,QAAKmB,SAAS,CAAC,sCAAsC,CAAAE,QAAA,eACjDvB,IAAA,CAACN,IAAI,EAAC8B,EAAE,CAAC,WAAW,CAAAD,QAAA,cAChBvB,IAAA,MAAGyB,KAAK,CAAC,kBAAkB,CAAI,CAAC,CAC9B,CAAC,cACPvB,KAAA,CAACR,IAAI,EAAC2B,SAAS,CAAEvB,MAAM,CAAC4B,SAAU,CAACF,EAAE,CAAC,OAAO,CAAAD,QAAA,eACzCvB,IAAA,MAAGqB,SAAS,CAAC,2BAA2B,CAAI,CAAC,cAC7CrB,IAAA,SAAMW,KAAK,CAAEA,KAAM,CAACU,SAAS,CAAEvB,MAAM,CAAC6B,YAAa,CAAAJ,QAAA,CAAGnB,UAAU,CAAO,CAAC,EACtE,CAAC,cACPF,KAAA,MAAAqB,QAAA,eACIvB,IAAA,MAAGqB,SAAS,CAAC,wBAAwB,CAAI,CAAC,cAC1CrB,IAAA,SAAAuB,QAAA,CAAOjB,IAAI,CAAO,CAAC,EACpB,CAAC,cACJN,IAAA,CAACN,IAAI,EAACkC,OAAO,CAAET,KAAM,CAACK,EAAE,CAAC,GAAG,CAAAD,QAAA,cACxBvB,IAAA,MAAGyB,KAAK,CAAC,oDAAoD,CAAI,CAAC,CAChE,CAAC,EACN,CAAC,CACL,CAAC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}