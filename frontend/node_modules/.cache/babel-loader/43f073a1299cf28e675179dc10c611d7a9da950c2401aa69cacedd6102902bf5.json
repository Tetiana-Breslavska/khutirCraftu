{"ast":null,"code":"var _jsxFileName = \"E:\\\\Dragon\\\\IT\\\\ciklum\\\\X-course-task\\\\x-course-task\\\\src\\\\components\\\\Navbar\\\\Navbar.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { useUser } from '../../context/use-user';\nimport { useBooks } from '../../context/use-books';\nimport { LocalStorageService } from \"../../services/localStorage\";\nimport styles from './Navbar.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Navbar() {\n  _s();\n  const [totalCount, setTotalCount] = useState(0);\n  const {\n    user,\n    setUser\n  } = useUser();\n  const {\n    addedBooks,\n    setAddedBooks\n  } = useBooks();\n  const [isMarked, setIsMarked] = useState(false);\n  const style = {\n    color: isMarked ? '#dc3545' : '',\n    transition: '0.2s'\n  };\n  useEffect(() => {\n    setTotalCount(addedBooks.reduce((acc, curr) => {\n      return acc + curr.count;\n    }, 0));\n    setIsMarked(true);\n    setTimeout(() => {\n      setIsMarked(false);\n    }, 200);\n  }, [addedBooks]);\n  const clean = () => {\n    LocalStorageService.removeAll();\n    setUser('');\n    setAddedBooks();\n  };\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: styles.navbar,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container d-flex justify-content-end\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/bookList\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: styles.cart_icon,\n        to: \"/cart\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          style: style,\n          className: \"fa-solid fa-cart-shopping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.cart_counter,\n          children: totalCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-user-large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.user,\n          children: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        onClick: clean,\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-person-walking-dashed-line-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n_s(Navbar, \"btzoZCXJiJauEM1rU7etgj1y5VI=\", false, function () {\n  return [useUser, useBooks];\n});\n_c = Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["useState","useEffect","Link","useUser","useBooks","LocalStorageService","styles","jsxDEV","_jsxDEV","Navbar","_s","totalCount","setTotalCount","user","setUser","addedBooks","setAddedBooks","isMarked","setIsMarked","style","color","transition","reduce","acc","curr","count","setTimeout","clean","removeAll","className","navbar","children","to","fileName","_jsxFileName","lineNumber","columnNumber","cart_icon","cart_counter","onClick","_c","$RefreshReg$"],"sources":["E:/Dragon/IT/ciklum/X-course-task/x-course-task/src/components/Navbar/Navbar.js"],"sourcesContent":["import {useState, useEffect} from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useUser } from '../../context/use-user';\r\nimport { useBooks } from '../../context/use-books';\r\nimport { LocalStorageService } from \"../../services/localStorage\";\r\nimport styles from './Navbar.module.scss';\r\n\r\nexport default function Navbar() {\r\n    const [ totalCount, setTotalCount ] = useState(0);\r\n    const { user, setUser } = useUser();\r\n    const { addedBooks, setAddedBooks } = useBooks();\r\n    const [isMarked, setIsMarked] = useState(false);\r\n    const style = {\r\n        color: isMarked ? '#dc3545' : '',\r\n        transition: '0.2s', \r\n    };\r\n\r\n    useEffect(()=>{\r\n        setTotalCount(addedBooks.reduce((acc, curr) => {return acc + curr.count}, 0));\r\n        setIsMarked(true);\r\n        setTimeout(() => {\r\n            setIsMarked(false);\r\n        }, 200);\r\n    }, [addedBooks])\r\n\r\n    const clean = () => {\r\n        LocalStorageService.removeAll();\r\n        setUser('');\r\n        setAddedBooks();\r\n    };\r\n\r\n    return (\r\n        <nav className={styles.navbar}>\r\n            <div className='container d-flex justify-content-end'>\r\n                <Link to=\"/bookList\">\r\n                    <i className=\"fa-solid fa-book\"></i>\r\n                </Link>\r\n                <Link className={styles.cart_icon} to=\"/cart\">\r\n                    <i style={style}  className=\"fa-solid fa-cart-shopping\"></i>\r\n                    <span  className={styles.cart_counter} >{totalCount}</span>\r\n                </Link>\r\n                <p>\r\n                    <i className=\"fa-solid fa-user-large\"></i>\r\n                    <span className={styles.user}>{user}</span>\r\n                </p>\r\n                <Link onClick={clean} to=\"/\">\r\n                    <i className=\"fa-solid fa-person-walking-dashed-line-arrow-right\"></i>\r\n                </Link>\r\n            </div>\r\n        </nav>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}